<div class="file-item file-{{state.state}}">
  <div class="file-thumb">

    <div *ngIf="!state.thumbnail && !extensions[state.extension]?.includes('url')" class="file-no-thumb">
      <span>
        {{ state.extension }}
      </span>
    </div>

    <div *ngIf="state.thumbnail" class="file-thumb-img"
         [style.backgroundImage]="'url(' + state.thumbnail + ')' | safeStyle"></div>

    <div *ngIf="!state.thumbnail && extensions[state.extension]" class="file-thumb-ext"
         [style.backgroundImage]="extensions[state.extension] | safeStyle"></div>
  </div>

  <div class="file-overlay">
    <div class="file-success-icon"></div>
    <div class="file-error-icon"></div>
  </div>

  <div *ngIf="showProgress" class="file-progress-bar">
    <div class="file-bar" [style.transform]="'translate3d(' + (-100 + state.progress.percentage) + '%,0,0)'"></div>
  </div>

</div>

<div *ngIf="showDetails" class="file-details">

  <div class="file-detail file-name">
    <span>{{ state.name }}</span>
  </div>

  <div class="file-detail file-size">
    <span>{{ state.progress.totalBytes | fileSize }}</span>
  </div>

</div>

<div *ngIf="showRemove" class="file-remove">
  <button class="file-remove-button" (click)="removeClicked($event)">
    <div class="file-remove-icon"></div>
  </button>
</div>
